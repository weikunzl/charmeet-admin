describe("popover",function(){var e,t,i,o,n,p;beforeEach(module("ui.bootstrap.popover")),beforeEach(module("uib/template/popover/popover.html")),beforeEach(inject(function(c,s,r){p=r,t=angular.element('<div><span uib-popover="popover text">Selector Text</span></div>'),i=c,s(t)(i),i.$digest(),e=t.find("span"),o=e.scope(),n=o.$$childTail})),afterEach(function(){p.off("keypress")}),it("should not be open initially",inject(function(){expect(n.isOpen).toBe(!1),expect(t.children().length).toBe(1)})),it("should open on click",inject(function(){e.trigger("click"),n.$digest(),expect(n.isOpen).toBe(!0),expect(t.children().length).toBe(2)})),it("should close on second click",inject(function(){e.trigger("click"),n.$digest(),expect(n.isOpen).toBe(!0),e.trigger("click"),n.$digest(),expect(n.isOpen).toBe(!1)})),it("should not unbind event handlers created by other directives - issue 456",inject(function(o){i.click=function(){i.clicked=!i.clicked},t=angular.element('<div><input uib-popover="Hello!" ng-click="click()" popover-trigger="mouseenter"/></div>'),o(t)(i),i.$digest(),e=t.find("input"),e.trigger("mouseenter"),e.trigger("mouseleave"),expect(i.clicked).toBeFalsy(),e.click(),expect(i.clicked).toBeTruthy()})),it("should popup with animate class by default",inject(function(){e.trigger("click"),n.$digest(),expect(n.isOpen).toBe(!0),expect(t.children().eq(1)).toHaveClass("fade")})),it("should popup without animate class when animation disabled",inject(function(p){t=angular.element('<div><span uib-popover="popover text" popover-animation="false">Selector Text</span></div>'),p(t)(i),i.$digest(),e=t.find("span"),o=e.scope(),n=o.$$childTail,e.trigger("click"),n.$digest(),expect(n.isOpen).toBe(!0),expect(t.children().eq(1)).not.toHaveClass("fade")})),it("should display the title",inject(function(o){t=angular.element('<div><span uib-popover="popover text" popover-title="popover title">Trigger here</span></div>'),o(t)(i),i.$digest(),e=t.find("span"),e.trigger("click"),i.$digest();var n=t.find(".popover-title");expect(n.text()).toBe("popover title")})),it("should display the content",inject(function(o){t=angular.element('<div><span uib-popover="popover text" popover-title="popover title">Trigger here</span></div>'),o(t)(i),i.$digest(),e=t.find("span"),e.trigger("click"),i.$digest();var n=t.find(".popover-content");expect(n.text()).toBe("popover text")})),describe("supports options",function(){describe("placement",function(){it("can specify an alternative, valid placement",inject(function(p){t=angular.element('<div><span uib-popover="popover text" popover-placement="left">Trigger here</span></div>'),p(t)(i),i.$digest(),e=t.find("span"),o=e.scope(),n=o.$$childTail,e.trigger("click"),n.$digest(),expect(n.isOpen).toBe(!0),expect(t.children().length).toBe(2);var c=t.find("div.popover");expect(c).toHaveClass("left")}))}),describe("class",function(){it("can specify a custom class",inject(function(p){t=angular.element('<div><span uib-popover="popover text" popover-class="custom">Trigger here</span></div>'),p(t)(i),i.$digest(),e=t.find("span"),o=e.scope(),n=o.$$childTail,e.trigger("click"),n.$digest(),expect(n.isOpen).toBe(!0),expect(t.children().length).toBe(2);var c=t.find("div.popover");expect(c).toHaveClass("custom")}))}),describe("is-open",function(){beforeEach(inject(function(p){i.isOpen=!1,t=angular.element('<div><span uib-popover="popover text" popover-placement="left" popover-is-open="isOpen">Trigger here</span></div>'),p(t)(i),i.$digest(),e=t.find("span"),o=e.scope(),n=o.$$childTail})),it("should show and hide with the controller value",function(){expect(n.isOpen).toBe(!1),o.isOpen=!0,o.$digest(),expect(n.isOpen).toBe(!0),o.isOpen=!1,o.$digest(),expect(n.isOpen).toBe(!1)}),it("should update the controller value",function(){e.trigger("click"),n.$digest(),expect(o.isOpen).toBe(!0),e.trigger("click"),n.$digest(),expect(o.isOpen).toBe(!1)})})})});