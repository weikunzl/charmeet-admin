describe("popover template",function(){var e,t,i,p,o,n;beforeEach(module("ui.bootstrap.popover")),beforeEach(module("uib/template/popover/popover.html")),beforeEach(module("uib/template/popover/popover-template.html")),beforeEach(inject(function(e){e.put("myUrl",[200,"<span>{{ myTemplateText }}</span>",{}])})),beforeEach(inject(function(l,c,r){n=r,t=angular.element('<div><span uib-popover-template="templateUrl">Selector Text</span></div>'),i=l,c(t)(i),i.templateUrl="myUrl",i.$digest(),e=t.find("span"),p=e.scope(),o=p.$$childTail})),afterEach(function(){n.off("keypress")}),it("should open on click",inject(function(){e.trigger("click"),o.$digest(),expect(o.isOpen).toBe(!0),expect(t.children().length).toBe(2)})),it("should not open on click if templateUrl is empty",inject(function(){i.templateUrl=null,i.$digest(),e.trigger("click"),o.$digest(),expect(o.isOpen).toBe(!1),expect(t.children().length).toBe(1)})),it("should show updated text",inject(function(){i.myTemplateText="some text",e.trigger("click"),o.$digest(),expect(o.isOpen).toBe(!0),i.$digest(),expect(t.children().eq(1).text().trim()).toBe("some text"),i.myTemplateText="new text",i.$digest(),expect(t.children().eq(1).text().trim()).toBe("new text")})),it("should hide popover when template becomes empty",inject(function(p){e.trigger("click"),o.$digest(),expect(o.isOpen).toBe(!0),i.templateUrl="",i.$digest(),expect(o.isOpen).toBe(!1),p.flush(),expect(t.children().length).toBe(1)})),it("should display the title",inject(function(p){t=angular.element('<div><span uib-popover-template="templateUrl" popover-title="popover title">Selector Text</span></div>'),p(t)(i),i.$digest(),e=t.find("span"),e.trigger("click"),i.$digest();var o=t.find(".popover-title");expect(o.text()).toBe("popover title")})),describe("supports options",function(){describe("placement",function(){it("can specify an alternative, valid placement",inject(function(n){t=angular.element('<div><span uib-popover-template="templateUrl" popover-placement="left">Trigger</span></div>'),n(t)(i),i.$digest(),e=t.find("span"),p=e.scope(),o=p.$$childTail,e.trigger("click"),o.$digest(),expect(o.isOpen).toBe(!0),expect(t.children().length).toBe(2);var l=t.find("div.popover");expect(l).toHaveClass("left")}))}),describe("class",function(){it("can specify a custom class",inject(function(n){t=angular.element('<div><span uib-popover-template="templateUrl" popover-class="custom">Trigger</span></div>'),n(t)(i),i.$digest(),e=t.find("span"),p=e.scope(),o=p.$$childTail,e.trigger("click"),o.$digest(),expect(o.isOpen).toBe(!0),expect(t.children().length).toBe(2);var l=t.find("div.popover");expect(l).toHaveClass("custom")}))})})});