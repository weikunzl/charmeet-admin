describe("buttons",function(){var e,t;beforeEach(module("ui.bootstrap.buttons")),beforeEach(inject(function(o,c){e=o,t=c})),describe("checkbox",function(){var o=function(e,o){var c=t(e)(o);return o.$digest(),c};it("should expose the controller to the view",inject(function(t){var c=o('<button ng-model="model" uib-btn-checkbox>{{button.text}}</button>',e),a=c.controller("uibBtnCheckbox");expect(a).toBeDefined(),a.text="foo",e.$digest(),expect(c.html()).toBe("foo")})),it("should work correctly with default model values",function(){e.model=!1;var t=o('<button ng-model="model" uib-btn-checkbox>click</button>',e);expect(t).not.toHaveClass("active"),e.model=!0,e.$digest(),expect(t).toHaveClass("active")}),it("should bind custom model values",function(){e.model=1;var t=o('<button ng-model="model" uib-btn-checkbox btn-checkbox-true="1" btn-checkbox-false="0">click</button>',e);expect(t).toHaveClass("active"),e.model=0,e.$digest(),expect(t).not.toHaveClass("active")}),it("should toggle default model values on click",function(){e.model=!1;var t=o('<button ng-model="model" uib-btn-checkbox>click</button>',e);t.click(),expect(e.model).toEqual(!0),expect(t).toHaveClass("active"),t.click(),expect(e.model).toEqual(!1),expect(t).not.toHaveClass("active")}),it("should toggle custom model values on click",function(){e.model=0;var t=o('<button ng-model="model" uib-btn-checkbox btn-checkbox-true="1" btn-checkbox-false="0">click</button>',e);t.click(),expect(e.model).toEqual(1),expect(t).toHaveClass("active"),t.click(),expect(e.model).toEqual(0),expect(t).not.toHaveClass("active")}),it("should monitor true / false value changes - issue 666",function(){e.model=1,e.trueVal=1;var t=o('<button ng-model="model" uib-btn-checkbox btn-checkbox-true="trueVal">click</button>',e);expect(t).toHaveClass("active"),expect(e.model).toEqual(1),e.model=2,e.trueVal=2,e.$digest(),expect(t).toHaveClass("active"),expect(e.model).toEqual(2)}),it("should not toggle when disabled - issue 4013",function(){e.model=1,e.falseVal=0;var t=o('<button disabled ng-model="model" uib-btn-checkbox btn-checkbox-true="falseVal">click</button>',e);expect(t).not.toHaveClass("active"),expect(e.model).toEqual(1),t.click(),expect(t).not.toHaveClass("active"),e.$digest(),expect(t).not.toHaveClass("active")}),describe("setting buttonConfig",function(){var t,c,a;beforeEach(inject(function(e){t=e,c=t.activeClass,a=t.toggleEvent,t.activeClass=!1,t.toggleEvent=!1})),afterEach(function(){t.activeClass=c,t.toggleEvent=a}),it("should use default config when buttonConfig.activeClass and buttonConfig.toggleEvent is false",function(){e.model=!1;var t=o('<button ng-model="model" uib-btn-checkbox>click</button>',e);expect(t).not.toHaveClass("active"),e.model=!0,e.$digest(),expect(t).toHaveClass("active")}),it("should be able to use a different active class",function(){t.activeClass="foo",e.model=!1;var c=o('<button ng-model="model" uib-btn-checkbox>click</button>',e);expect(c).not.toHaveClass("foo"),e.model=!0,e.$digest(),expect(c).toHaveClass("foo")}),it("should be able to use a different toggle event",function(){t.toggleEvent="mouseenter",e.model=!1;var c=o('<button ng-model="model" uib-btn-checkbox>click</button>',e);expect(c).not.toHaveClass("active"),c.trigger("mouseenter"),e.$digest(),expect(c).toHaveClass("active")})})}),describe("radio",function(){var o=function(e,o){var c=t("<div>"+e+"</div>")(o);return o.$digest(),c.find("button")};it("should expose the controller to the view",inject(function(t){var c=o('<button ng-model="model" uib-btn-radio="1">{{buttons.text}}</button>',e),a=c.controller("uibBtnRadio");expect(a).toBeDefined(),a.text="foo",e.$digest(),expect(c.html()).toBe("foo")})),it("should set active class based on model",function(){var t=o('<button ng-model="model" uib-btn-radio="1">click1</button><button ng-model="model" uib-btn-radio="2">click2</button>',e);expect(t.eq(0)).not.toHaveClass("active"),expect(t.eq(1)).not.toHaveClass("active"),e.model=2,e.$digest(),expect(t.eq(0)).not.toHaveClass("active"),expect(t.eq(1)).toHaveClass("active")}),it("should set active class via click",function(){var t=o('<button ng-model="model" uib-btn-radio="1">click1</button><button ng-model="model" uib-btn-radio="2">click2</button>',e);expect(e.model).toBeUndefined(),t.eq(0).click(),expect(e.model).toEqual(1),expect(t.eq(0)).toHaveClass("active"),expect(t.eq(1)).not.toHaveClass("active"),t.eq(1).click(),expect(e.model).toEqual(2),expect(t.eq(1)).toHaveClass("active"),expect(t.eq(0)).not.toHaveClass("active")}),it("should watch uib-btn-radio values and update state accordingly",function(){e.values=["value1","value2"];var t=o('<button ng-model="model" uib-btn-radio="values[0]">click1</button><button ng-model="model" uib-btn-radio="values[1]">click2</button>',e);expect(t.eq(0)).not.toHaveClass("active"),expect(t.eq(1)).not.toHaveClass("active"),e.model="value2",e.$digest(),expect(t.eq(0)).not.toHaveClass("active"),expect(t.eq(1)).toHaveClass("active"),e.values[1]="value3",e.model="value3",e.$digest(),expect(t.eq(0)).not.toHaveClass("active"),expect(t.eq(1)).toHaveClass("active")}),it("should do nothing when clicking an active radio",function(){e.model=1;var t=o('<button ng-model="model" uib-btn-radio="1">click1</button><button ng-model="model" uib-btn-radio="2">click2</button>',e);expect(t.eq(0)).toHaveClass("active"),expect(t.eq(1)).not.toHaveClass("active"),t.eq(0).click(),e.$digest(),expect(t.eq(0)).toHaveClass("active"),expect(t.eq(1)).not.toHaveClass("active")}),it("should not toggle when disabled - issue 4013",function(){e.model=1;var t=o('<button ng-model="model" uib-btn-radio="1">click1</button><button disabled ng-model="model" uib-btn-radio="2">click2</button>',e);expect(t.eq(0)).toHaveClass("active"),expect(t.eq(1)).not.toHaveClass("active"),t.eq(1).click(),expect(t.eq(0)).toHaveClass("active"),expect(t.eq(1)).not.toHaveClass("active"),e.$digest(),expect(t.eq(0)).toHaveClass("active"),expect(t.eq(1)).not.toHaveClass("active")}),it("should handle string values in uib-btn-radio value",function(){e.model="Two";var t=o('<button ng-model="model" uib-btn-radio="\'One\'">click1</button><button ng-model="model" uib-btn-radio="\'Two\'">click2</button>',e);expect(t.eq(0)).not.toHaveClass("active"),expect(t.eq(1)).toHaveClass("active"),t.eq(0).click(),expect(t.eq(0)).toHaveClass("active"),expect(t.eq(1)).not.toHaveClass("active"),expect(e.model).toEqual("One"),e.$digest(),expect(t.eq(0)).toHaveClass("active"),expect(t.eq(1)).not.toHaveClass("active"),expect(e.model).toEqual("One")}),describe("uncheckable",function(){it("should set active class based on model",function(){var t=o('<button ng-model="model" uib-btn-radio="1" uncheckable>click1</button><button ng-model="model" uib-btn-radio="2" uncheckable>click2</button>',e);expect(t.eq(0)).not.toHaveClass("active"),expect(t.eq(1)).not.toHaveClass("active"),e.model=2,e.$digest(),expect(t.eq(0)).not.toHaveClass("active"),expect(t.eq(1)).toHaveClass("active")}),it("should unset active class via click",function(){var t=o('<button ng-model="model" uib-btn-radio="1" uncheckable>click1</button><button ng-model="model" uib-btn-radio="2" uncheckable>click2</button>',e);expect(e.model).toBeUndefined(),t.eq(0).click(),expect(e.model).toEqual(1),expect(t.eq(0)).toHaveClass("active"),expect(t.eq(1)).not.toHaveClass("active"),t.eq(0).click(),expect(e.model).toBeNull(),expect(t.eq(1)).not.toHaveClass("active"),expect(t.eq(0)).not.toHaveClass("active")}),it("should watch uib-btn-radio values and update state",function(){e.values=["value1","value2"];var t=o('<button ng-model="model" uib-btn-radio="values[0]" uncheckable>click1</button><button ng-model="model" uib-btn-radio="values[1]" uncheckable>click2</button>',e);expect(t.eq(0)).not.toHaveClass("active"),expect(t.eq(1)).not.toHaveClass("active"),e.model="value2",e.$digest(),expect(t.eq(0)).not.toHaveClass("active"),expect(t.eq(1)).toHaveClass("active"),e.model=void 0,e.$digest(),expect(t.eq(0)).not.toHaveClass("active"),expect(t.eq(1)).not.toHaveClass("active")})}),describe("uibUncheckable",function(){it("should set uncheckable",function(){e.uncheckable=!1;var t=o('<button ng-model="model" uib-btn-radio="1">click1</button><button ng-model="model" uib-btn-radio="2" uib-uncheckable="uncheckable">click2</button>',e);expect(t.eq(0).attr("uncheckable")).toBeUndefined(),expect(t.eq(1).attr("uncheckable")).toBeUndefined(),expect(e.model).toBeUndefined(),t.eq(0).click(),expect(e.model).toEqual(1),t.eq(0).click(),expect(e.model).toEqual(1),t.eq(1).click(),expect(e.model).toEqual(2),t.eq(1).click(),expect(e.model).toEqual(2),e.uncheckable=!0,e.$digest(),expect(t.eq(0).attr("uncheckable")).toBeUndefined(),expect(t.eq(1).attr("uncheckable")).toBeDefined(),t.eq(0).click(),expect(e.model).toEqual(1),t.eq(0).click(),expect(e.model).toEqual(1),t.eq(1).click(),expect(e.model).toEqual(2),t.eq(1).click(),expect(e.model).toBeNull()})})})});