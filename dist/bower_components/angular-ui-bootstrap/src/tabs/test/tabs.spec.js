describe("tabs",function(){function e(){return n.find("ul.nav-tabs li")}function t(){return n.find("div.tab-content div.tab-pane")}function a(t){var a=e();expect(a.length).toEqual(t.length);for(var i=0;i<a.length;i++)expect(a.eq(i).text().trim()).toEqual(t[i])}function i(e){var a=t();expect(a.length).toEqual(e.length);for(var i=0;i<a.length;i++)expect(a.eq(i).text().trim()).toEqual(e[i])}var n,c;beforeEach(module("ui.bootstrap.tabs")),beforeEach(module("uib/template/tabs/tabset.html")),beforeEach(module("uib/template/tabs/tab.html")),describe("basics",function(){beforeEach(inject(function(e,t){return c=t.$new(),c.first="1",c.second="2",c.third="3",c.active=1,c.firstClass="first-class",c.secondClass="second-class-1 second-class-2",c.selectFirst=jasmine.createSpy(),c.selectSecond=jasmine.createSpy(),c.deselectFirst=jasmine.createSpy(),c.deselectSecond=jasmine.createSpy(),c.deselectThird=function(e){e.preventDefault()},n=e(['<uib-tabset class="hello" data-pizza="pepperoni" active="active">','  <uib-tab index="1" heading="First Tab {{first}}" classes="{{firstClass}}" select="selectFirst($event)" deselect="deselectFirst($event)">',"    first content is {{first}}","  </uib-tab>",'  <uib-tab index="2" classes="{{secondClass}}" select="selectSecond($event)" deselect="deselectSecond($event)">',"    <uib-tab-heading><b>Second</b> Tab {{second}}</uib-tab-heading>","    second content is {{second}}","  </uib-tab>",'  <uib-tab index="3" classes="{{thirdClass}}" deselect="deselectThird($event)">',"    <uib-tab-heading><b>Second</b> Tab {{third}}</uib-tab-heading>","    third content is {{third}}","  </uib-tab>","</uib-tabset>"].join("\n"))(c),c.$apply(),n})),it("should pass class and other attributes on to tab template",function(){expect(n).toHaveClass("hello"),expect(n.attr("data-pizza")).toBe("pepperoni");var e=$(n.find("a")[0]);expect(e).toHaveClass("nav-link")}),it("should create clickable titles",function(){var t=e();expect(t.length).toBe(3),expect(t.find("> a").eq(0).text()).toBe("First Tab 1"),expect(t.find("> a").eq(1).children().is("uib-tab-heading")).toBe(!0),expect(t.find("> a").eq(1).children().html()).toBe("<b>Second</b> Tab 2")}),it("should bind tabs content and set first tab active",function(){i(["first content is 1","second content is 2","third content is 3"]),expect(e().eq(0)).toHaveClass("active"),expect(e().eq(1)).not.toHaveClass("active"),expect(c.active).toBe(1)}),it("should set optional classes on each tab",function(){expect(e().eq(0)).toHaveClass(c.firstClass);var t=c.secondClass.split(" ");t.forEach(function(t){expect(e().eq(1)).toHaveClass(t)})}),it("should change active on click",function(){e().eq(1).find("> a").click(),expect(t().eq(1)).toHaveClass("active"),expect(e().eq(0)).not.toHaveClass("active"),expect(e().eq(1)).toHaveClass("active"),expect(c.active).toBe(2)}),it("should call select callback on select",function(){expect(c.selectFirst.calls.count()).toBe(1),e().eq(1).find("> a").click(),expect(c.selectSecond).toHaveBeenCalled(),expect(c.selectSecond.calls.argsFor(0)[0].target).toBe(e().eq(1).find("> a")[0]),e().eq(0).find("> a").click(),expect(c.selectFirst).toHaveBeenCalled(),expect(c.selectFirst.calls.argsFor(1)[0].target).toBe(e().eq(0).find("> a")[0])}),it("should call deselect callback on deselect",function(){e().eq(1).find("> a").click(),expect(c.deselectFirst).toHaveBeenCalled(),expect(c.deselectFirst.calls.argsFor(0)[0].target).toBe(e().eq(1).find("> a")[0]),e().eq(0).find("> a").click(),expect(c.deselectSecond).toHaveBeenCalled(),expect(c.deselectSecond.calls.argsFor(0)[0].target).toBe(e().eq(0).find("> a")[0]),e().eq(1).find("> a").click(),expect(c.deselectFirst.calls.count()).toBe(2),expect(c.deselectFirst.calls.argsFor(1)[0].target).toBe(e().eq(1).find("> a")[0])}),it("should prevent tab deselection when $event.preventDefault() is called",function(){spyOn(c,"deselectThird"),e().eq(2).find("> a").click(),expect(c.active).toBe(3),e().eq(1).find("> a").click(),expect(c.deselectThird).toHaveBeenCalled(),expect(c.active).not.toBe(1),expect(c.active).toBe(2)})}),describe("basics with initial active tab",function(){function a(a){var i=e();angular.forEach(c.tabs,function(e,n){a===e?(expect(c.active).toBe(e.index),expect(e.select).toHaveBeenCalled(),expect(i.eq(n)).toHaveClass("active"),expect(t().eq(n)).toHaveClass("active")):(expect(c.active).not.toBe(e.index),expect(i.eq(n)).not.toHaveClass("active"))})}beforeEach(inject(function(e,t){function a(e){return{index:e,select:jasmine.createSpy()}}c=t.$new(),c.tabs=[a(1),a(3),a(5),a(7)],c.active=5,n=e(['<uib-tabset active="active">','  <uib-tab index="1" select="tabs[0].select()">',"  </uib-tab>",'  <uib-tab index="3" select="tabs[1].select()">',"  </uib-tab>",'  <uib-tab index="5" select="tabs[2].select()">',"  </uib-tab>",'  <uib-tab index="7" select="tabs[3].select()">',"  </uib-tab>","</uib-tabset>"].join("\n"))(c),c.$apply()})),it("should make tab titles and set active tab active",function(){expect(e().length).toBe(c.tabs.length),a(c.tabs[2])})}),describe("without active binding and index attributes",function(){beforeEach(inject(function(e,t){return c=t.$new(),c.first="1",c.second="2",n=e(["<uib-tabset>",'  <uib-tab heading="First Tab {{first}}">',"    first content is {{first}}","  </uib-tab>",'  <uib-tab heading="Second Tab {{second}}">',"    second content is {{second}}","  </uib-tab>","</uib-tabset>"].join("\n"))(c),c.$apply(),n})),it("should bind tabs content and set first tab active",function(){i(["first content is 1","second content is 2"]),expect(e().eq(0)).toHaveClass("active"),expect(e().eq(1)).not.toHaveClass("active"),expect(n.controller("uibTabset").active).toBe(0)}),it("should change active on click",function(){e().eq(1).find("> a").click(),expect(t().eq(1)).toHaveClass("active"),expect(e().eq(0)).not.toHaveClass("active"),expect(e().eq(1)).toHaveClass("active"),expect(n.controller("uibTabset").active).toBe(1)})}),describe("tab callback order",function(){var t;beforeEach(inject(function(e,a){return c=a.$new(),t=[],c.execute=function(e){t.push(e)},n=e(["<div>",'  <uib-tabset class="hello" data-pizza="pepperoni" active="active">','    <uib-tab index="1" heading="First Tab" select="execute(\'select1\')" deselect="execute(\'deselect1\')"></uib-tab>','    <uib-tab index="2" select="execute(\'select2\')" deselect="execute(\'deselect2\')"></uib-tab>',"  </uib-tabset>","</div>"].join("\n"))(c),c.$apply(),n})),it("should call select  for the first tab",function(){expect(t).toEqual(["select1"])}),it("should call deselect, then select",function(){t=[],e().eq(1).find("> a").click(),expect(t).toEqual(["deselect1","select2"]),t=[],e().eq(0).find("> a").click(),expect(t).toEqual(["deselect2","select1"])})}),describe("custom template",function(){var e,t;beforeEach(inject(function(a,i,n){c=a,e=i,t=n})),it("should support custom templates",function(){t.put("foo/bar.html","<div>baz</div>"),n=e('<uib-tabset template-url="foo/bar.html"></uib-tabset>')(c),c.$digest(),expect(n.html()).toBe("baz")})}),describe("uib-tab",function(){var t,a;beforeEach(inject(function(e,i,n){c=e,t=i,a=n})),it("should expose the controller on the view",function(){a.put("uib/template/tabs/tab.html",'<li class="uib-tab">{{tab.text}}</li>'),n=t('<uib-tabset><uib-tab heading="Tab"></uib-tab></uib-tabset>')(c),c.$digest();var i=e().eq(0),b=i.controller("uibTab");expect(b).toBeDefined(),b.text="foo",c.$digest(),expect(i.text().trim()).toBe("foo")}),it("should support custom templates",function(){a.put("foo/bar.html","<li>baz</li>"),n=t('<uib-tabset><uib-tab template-url="foo/bar.html"></uib-tab></uib-tabset>')(c),c.$digest();var i=e().eq(0);expect(i.html()).toBe("baz")})}),describe("ng-repeat",function(){function e(e){return{index:e,select:jasmine.createSpy()}}function t(){return n.find("ul.nav-tabs li")}function a(){return n.find("div.tab-content div.tab-pane")}function i(e){var i=t();angular.forEach(c.tabs,function(t,n){e===t?(expect(c.active).toBe(t.index),expect(t.select).toHaveBeenCalled(),expect(i.eq(n)).toHaveClass("active"),expect(a().eq(n).text().trim()).toBe("content "+n),expect(a().eq(n)).toHaveClass("active")):(expect(c.active).not.toBe(t.index),expect(i.eq(n)).not.toHaveClass("active"))})}var b,s;beforeEach(inject(function(t,a){b=t,s=a,c=s.$new(),c.tabs=[e(1),e(3),e(5),e(7)],c.active=5,n=b(['<uib-tabset active="active">','  <uib-tab index="t.index" ng-repeat="t in tabs" active="t.active" select="t.select()">',"    <uib-tab-heading><b>heading</b> {{index}}</uib-tab-heading>","    content {{$index}}","  </uib-tab>","</uib-tabset>"].join("\n"))(c),c.$apply()})),it("should make tab titles and set active tab active",function(){expect(t().length).toBe(c.tabs.length),i(c.tabs[2])}),it("should switch active when clicking",function(){t().eq(3).find("> a").click(),i(c.tabs[3])}),it("should switch active when changing active index",function(){c.$apply("active = 5"),i(c.tabs[2])}),it("should deselect all when no tabs are active",function(){c.active=101,c.$apply(),i(null),expect(a().filter(".active").length).toBe(0),c.active=5,c.$apply(),i(c.tabs[2])}),it("should not select twice",function(){n.remove(),n=null,c=s.$new(),c.tabs=[e(2),e(3),e(5),e(8)],c.active=13,c.select=jasmine.createSpy(),n=b(['<uib-tabset active="active">','  <uib-tab index="t.index" ng-repeat="t in tabs" select="t.select()">',"    <uib-tab-heading><b>heading</b> {{index}}</uib-tab-heading>","    content {{$index}}","  </uib-tab>",'  <uib-tab index="13" select="select()">',"    <uib-tab-heading><b>heading</b> foo</uib-tab-heading>","    content foo","  </uib-tab>","</uib-tabset>"].join("\n"))(c),c.$apply(),expect(c.select.calls.count()).toBe(1)})}),describe("advanced uib-tab-heading element",function(){function e(){return n.find("ul li > a").children()}beforeEach(inject(function(e,t,a){c=t.$new(),c.myHtml=a.trustAsHtml("<b>hello</b>, there!"),c.value=!0,n=e(['<uib-tabset active="active">','  <uib-tab index="0">','    <uib-tab-heading ng-bind-html="myHtml" ng-show="value"></uib-tab-heading>',"  </uib-tab>",'  <uib-tab index="1"><data-uib-tab-heading>1</data-uib-tab-heading></uib-tab>','  <uib-tab index="2"><div data-uib-tab-heading>2</div></uib-tab>','  <uib-tab index="3"><div uib-tab-heading>3</div></uib-tab>',"</uib-tabset>"].join("\n"))(c),c.$apply()})),it("should create a heading bound to myHtml",function(){expect(e().eq(0).html()).toBe("<b>hello</b>, there!")}),it("should hide and show the heading depending on value",function(){expect(e().eq(0)).not.toBeHidden(),c.$apply("value = false"),expect(e().eq(0)).toBeHidden(),c.$apply("value = true"),expect(e().eq(0)).not.toBeHidden()}),it("should have a uib-tab-heading no matter what syntax was used",function(){expect(e().eq(1).text()).toBe("1"),expect(e().eq(2).text()).toBe("2"),expect(e().eq(3).text()).toBe("3")})}),describe("tab ordering",function(){beforeEach(inject(function(e,t){c=t.$new(),c.tabs=[{title:"Title 1",available:!0},{title:"Title 2",available:!0},{title:"Title 3",available:!0}],n=e(['<uib-tabset active="active">',"  <!-- a comment -->","  <div>div that makes troubles</div>",'  <uib-tab index="0" heading="first">First Static</uib-tab>',"  <div>another div that may do evil</div>",'  <uib-tab index="$index + 1" ng-repeat="tab in tabs | filter:tabIsAvailable" active="tab.active" heading="{{tab.title}}">some content</uib-tab>',"  <!-- another comment -->",'  <uib-tab heading="mid">Mid Static</uib-tab>',"  a text node","  <!-- another comment -->","  <span>yet another span that may do evil</span>",'  <uib-tab index="$index + 4" ng-repeat="tab in tabs | filter:tabIsAvailable" heading="Second {{tab.title}}">some content</uib-tab>',"  a text node","  <span>yet another span that may do evil</span>","  <!-- another comment -->",'  <uib-tab index="7" heading="last">Last Static</uib-tab>',"  a text node","  <span>yet another span that may do evil</span>","  <!-- another comment -->","</uib-tabset>"].join("\n"))(c),c.tabIsAvailable=function(e){return e.available}})),it("should preserve correct ordering",function(){function e(){return n.find("ul.nav-tabs li > a")}c.$apply(),expect(e().length).toBe(9),c.$apply("tabs[1].available=false"),c.$digest(),expect(e().length).toBe(7),c.$apply("tabs[0].available=false"),c.$digest(),expect(e().length).toBe(5),c.$apply("tabs[2].available=false"),c.$digest(),expect(e().length).toBe(3),c.$apply("tabs[0].available=true"),c.$digest(),expect(e().length).toBe(5),c.$apply("tabs[1].available=true"),c.$apply("tabs[2].available=true"),c.$digest(),expect(e().length).toBe(9),expect(e().eq(0).text().trim()).toBe("first"),expect(e().eq(1).text().trim()).toBe("Title 1"),expect(e().eq(2).text().trim()).toBe("Title 2"),expect(e().eq(3).text().trim()).toBe("Title 3"),expect(e().eq(4).text().trim()).toBe("mid"),expect(e().eq(5).text().trim()).toBe("Second Title 1"),expect(e().eq(6).text().trim()).toBe("Second Title 2"),expect(e().eq(7).text().trim()).toBe("Second Title 3"),expect(e().eq(8).text().trim()).toBe("last")})}),describe("uib-tabset controller",function(){function e(e){return{index:e,onSelect:angular.noop,onDeselect:angular.noop}}var t;beforeEach(inject(function(e,a){c=a,t=e("UibTabsetController",{$scope:c})})),describe("select",function(){it("should mark given tab selected",function(){t.tabs=[{tab:e(0),index:0}],t.select(0),expect(t.active).toBe(0)}),it("should deselect other tabs",function(){var a=e(1),i=e(2),n=e(3);t.addTab(a),t.addTab(i),t.addTab(n),t.select(0),expect(t.active).toBe(1),t.select(1),expect(t.active).toBe(2),t.select(2),expect(t.active).toBe(3)})}),describe("addTab",function(){it("should append tab",function(){var a=e(1),i=e(2);expect(t.tabs).toEqual([]),t.addTab(a),expect(t.tabs).toEqual([{tab:a,index:1}]),t.addTab(i),expect(t.tabs).toEqual([{tab:a,index:1},{tab:i,index:2}])}),it("should select the first one",function(){var a=e(1),i=e(2);t.addTab(a),expect(t.active).toBe(1),t.addTab(i),expect(t.active).toBe(1)}),it("should not select first active === false tab as selected",function(){var a=e(0);t.active=1,t.addTab(a),expect(t.active).toBe(1)}),it("should retain active state when adding tab of different index",function(){var a=e(1),i=e(2);t.active=2,t.addTab(a),expect(t.active).toBe(2),t.addTab(i),expect(t.active).toBe(2)})})}),describe("remove",function(){it("should remove title tabs when elements are destroyed and change selection",inject(function(b,s,l){c=l.$new(),n=s('<uib-tabset active="active"><uib-tab index="0" heading="1">Hello</uib-tab><uib-tab index="$index + 1" ng-repeat="i in list" heading="tab {{i}}">content {{i}}</uib-tab></uib-tabset>')(c),c.$apply(),a(["1"]),i(["Hello"]),c.$apply("list = [1,2,3]"),a(["1","tab 1","tab 2","tab 3"]),i(["Hello","content 1","content 2","content 3"]),e().find("> a").eq(3).click(),expect(t().eq(3)).toHaveClass("active"),expect(e().eq(3)).toHaveClass("active"),c.$apply("list = [1,2]"),a(["1","tab 1","tab 2"]),i(["Hello","content 1","content 2"]),expect(e().eq(2)).toHaveClass("active"),expect(t().eq(2)).toHaveClass("active"),e().find("> a").eq(1).click(),expect(e().eq(1)).toHaveClass("active"),expect(t().eq(1)).toHaveClass("active"),c.$apply("list = [2]"),a(["1","tab 2"]),i(["Hello","content 2"]),expect(e().eq(1)).toHaveClass("active"),expect(t().eq(1)).toHaveClass("active")})),it("should use updated index in tab",inject(function(b,s,l){c=l.$new(),n=s('<uib-tabset active="active"><uib-tab index="0" heading="1">Hello</uib-tab><uib-tab index="$index + 1" ng-repeat="i in list" heading="tab {{i}}">content {{i}}</uib-tab></uib-tabset>')(c),c.$apply(),c.$apply("list = [1,2,3]"),a(["1","tab 1","tab 2","tab 3"]),i(["Hello","content 1","content 2","content 3"]),c.$apply("list = [1,3]"),a(["1","tab 1","tab 3"]),i(["Hello","content 1","content 3"]),c.$apply("list = [1]"),a(["1","tab 1"]),i(["Hello","content 1"]),e().find("> a").eq(0).click(),expect(e().eq(0)).toHaveClass("active"),expect(t().eq(0)).toHaveClass("active")})),it("should not select tabs when being destroyed",inject(function(e,t,a){var i=[],b=[],s=function(e){return{index:e,select:function(){i.push("select")},deselect:function(){b.push("deselect")}}};c=a.$new(),c.tabs=[s(0),s(1)],c.active=1,n=t(['<uib-tabset active="active">','  <uib-tab index="$index" ng-repeat="t in tabs" active="t.active" select="t.select()" deselect="t.deselect()">',"    <uib-tab-heading><b>heading</b> {{index}}</uib-tab-heading>","    content {{$index}}","  </uib-tab>","</uib-tabset>"].join("\n"))(c),c.$apply(),expect(i.length).toEqual(1),c.$destroy(),expect(i.length).toEqual(1),expect(b.length).toEqual(0)}))}),describe("disable",function(){function a(a){var i=e();angular.forEach(c.tabs,function(e,n){a===e?(expect(c.active).toBe(e.index),expect(e.select.calls.count()).toBe(e.disable?0:1),expect(i.eq(n)).toHaveClass("active"),expect(t().eq(n).text().trim()).toBe("content "+n),expect(t().eq(n)).toHaveClass("active")):(expect(c.active).not.toBe(e.index),expect(i.eq(n)).not.toHaveClass("active"))})}beforeEach(inject(function(e,t){function a(e,t){return{index:t,select:jasmine.createSpy(),disable:e}}c=t.$new(),c.tabs=[a(!1,0),a(!0,1),a(!1,2),a(!0,3)],c.active=1,n=e(['<uib-tabset active="active">','  <uib-tab index="$index" ng-repeat="t in tabs" select="t.select()" disable="t.disable">',"    <uib-tab-heading><b>heading</b> {{index}}</uib-tab-heading>","    content {{$index}}","  </uib-tab>","</uib-tabset>"].join("\n"))(c),c.$apply()})),it("should not switch active when clicking on title",function(){e().eq(2).find("> a").click(),a(c.tabs[2]),e().eq(3).find("> a").click(),a(c.tabs[2])}),it("should toggle between states",function(){expect(e().eq(3)).toHaveClass("disabled"),c.$apply("tabs[3].disable = false"),expect(e().eq(3)).not.toHaveClass("disabled"),expect(e().eq(2)).not.toHaveClass("disabled"),c.$apply("tabs[2].disable = true"),expect(e().eq(2)).toHaveClass("disabled")})}),describe("vertical",function(){beforeEach(inject(function(e,t){c=t.$new(),c.vertical=!0,n=e('<uib-tabset vertical="vertical"></uib-tabset>')(c),c.$apply()})),it("to stack tabs",function(){expect(n.find("ul.nav-tabs")).toHaveClass("nav-stacked")})}),describe("justified",function(){beforeEach(inject(function(e,t){c=t.$new(),c.justified=!0,n=e('<uib-tabset justified="justified"></uib-tabset>')(c),c.$apply()})),it("to justify tabs",function(){expect(n.find("ul.nav-tabs")).toHaveClass("nav-justified")})}),describe("type",function(){beforeEach(inject(function(e,t){c=t.$new(),c.navType="pills",n=e('<uib-tabset type="{{navType}}"></uib-tabset>')(c),c.$apply()})),it("to show pills",function(){expect(n.find("ul")).toHaveClass("nav-pills"),expect(n.find("ul")).not.toHaveClass("nav-tabs")})}),describe("child compilation",function(){var e;beforeEach(inject(function(t,a){e=t("<uib-tabset><uib-tab><div></div></uib-tab></uib-tabset></div>")(a.$new()),a.$apply()})),it("should hookup the tab's children to the tab with $compile",function(){var t=$(".tab-pane",e).children().first();expect(t.inheritedData("$uibTabsetController")).toBeTruthy()})}),describe("ng-options in content",function(){var e;it("should render correct amount of options",inject(function(t,a){var i=a.$new();e=t('<uib-tabset><uib-tab><select ng-model="foo" ng-options="i for i in [1,2,3]"></uib-tab></uib-tabset>')(i),i.$apply();var n=e.find("select");i.$apply(),expect(n.children().length).toBe(4)}))}),describe("ng-repeat in content",function(){var e;it("should render ng-repeat",inject(function(t,a){var i=a.$new();i.tabs=[{title:"a",array:[1,2,3]},{title:"b",array:[2,3,4]},{title:"c",array:[3,4,5]}],e=t('<div><uib-tabset><uib-tab ng-repeat="tab in tabs" heading="{{tab.title}}"><uib-tab-heading>{{$index}}</uib-tab-heading><span ng-repeat="a in tab.array">{{a}},</span></uib-tab></uib-tabset></div>')(i),i.$apply();var n=e.find(".tab-pane");expect(n.eq(0).text().trim()).toEqual("1,2,3,"),expect(n.eq(1).text().trim()).toEqual("2,3,4,"),expect(n.eq(2).text().trim()).toEqual("3,4,5,")}))}),describe("nested tabs",function(){var e;it("should render without errors",inject(function(t,a){var i=a.$new();e=t(["<div>",'  <uib-tabset class="tabbable">','    <uib-tab heading="Tab 1">','      <uib-tabset class="tabbable">','        <uib-tab heading="Tab 1A">',"        </uib-tab>","      </uib-tabset>","    </uib-tab>",'    <uib-tab heading="Tab 2">','      <uib-tabset class="tabbable">','        <uib-tab heading="Tab 2A">',"        </uib-tab>","      </uib-tabset>","    </uib-tab>","  </uib-tabset>","</div>"].join("\n"))(i),i.$apply(),expect(e.find(".tabbable").length).toEqual(3)})),it("should render with the correct scopes",inject(function(t,a){var i=a.$new();i.tab1Text="abc",i.tab1aText="123",i.tab1aHead="123",i.tab2aaText="456",e=t(["<div>",'  <uib-tabset class="tabbable">','    <uib-tab heading="Tab 1">','      <uib-tabset class="tabbable">','        <uib-tab heading="{{ tab1aHead }}">',"          {{ tab1aText }}","        </uib-tab>","      </uib-tabset>",'      <span class="tab-1">{{ tab1Text }}</span>',"    </uib-tab>",'    <uib-tab heading="Tab 2">','      <uib-tabset class="tabbable">','        <uib-tab heading="Tab 2A">','          <uib-tabset class="tabbable">','            <uib-tab heading="Tab 2AA">','              <span class="tab-2aa">{{ tab2aaText }}</span>',"            </uib-tab>","          </uib-tabset>","        </uib-tab>","      </uib-tabset>","    </uib-tab>","  </uib-tabset>","</div>"].join("\n"))(i),i.$apply();var n=e.find(".tabbable").eq(0),c=n.find(".tabbable");expect(e.find(".tabbable").length).toEqual(4),expect(n.find(".tab-pane").eq(0).find(".tab-1").text().trim()).toEqual(i.tab1Text),expect(c.find(".tab-pane").eq(0).text().trim()).toEqual(i.tab1aText),expect(c.find("ul.nav-tabs li").eq(0).text().trim()).toEqual(i.tab1aHead),expect(c.eq(2).find(".tab-pane").eq(0).find(".tab-2aa").text().trim()).toEqual(i.tab2aaText)})),it("ng-repeat works with nested tabs",inject(function(t,a){var i=a.$new();i.tabs=[{tabs:[{content:"tab1a"},{content:"tab2a"}],content:"tab1"}],e=t(["<div>","  <uib-tabset>",'    <uib-tab ng-repeat="tab in tabs">',"      <uib-tabset>",'        <uib-tab ng-repeat="innerTab in tab.tabs">','          <span class="inner-tab-content">{{ innerTab.content }}</span>',"        </uib-tab>","      </uib-tabset>",'      <span class="outer-tab-content">{{ tab.content }}</span>',"    </uib-tab>","  </uib-tabset>","</div>"].join("\n"))(i),i.$apply(),expect(e.find(".inner-tab-content").eq(0).text().trim()).toEqual(i.tabs[0].tabs[0].content),expect(e.find(".inner-tab-content").eq(1).text().trim()).toEqual(i.tabs[0].tabs[1].content),expect(e.find(".outer-tab-content").eq(0).text().trim()).toEqual(i.tabs[0].content)}))})});