angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(a,s,e,l){var i=l.has("$animateCss")?l.get("$animateCss"):null;return{link:function(l,t,n){function o(){t.hasClass("collapse")&&t.hasClass("in")||s.resolve(h(l)).then(function(){t.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),i?i(t,{addClass:"in",easing:"ease",to:{height:t[0].scrollHeight+"px"}}).start()["finally"](r):a.addClass(t,"in",{to:{height:t[0].scrollHeight+"px"}}).then(r)})}function r(){t.removeClass("collapsing").addClass("collapse").css({height:"auto"}),p(l)}function d(){return t.hasClass("collapse")||t.hasClass("in")?void s.resolve(C(l)).then(function(){t.css({height:t[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),i?i(t,{removeClass:"in",to:{height:"0"}}).start()["finally"](c):a.removeClass(t,"in",{to:{height:"0"}}).then(c)}):c()}function c(){t.css({height:"0"}),t.removeClass("collapsing").addClass("collapse"),g(l)}var h=e(n.expanding),p=e(n.expanded),C=e(n.collapsing),g=e(n.collapsed);l.$eval(n.uibCollapse)||t.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),l.$watch(n.uibCollapse,function(a){a?d():o()})}}}]);