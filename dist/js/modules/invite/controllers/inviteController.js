define([],function(){"use strict";return["$scope","inviteService","$stateParams","uiGridConstants","i18nService",function(e,t,a,i,n){n.setCurrentLang("zh-cn"),a.page||(a.page=1);var r={pageNumber:a.page,pageSize:25,sort:null};e.gridOptions={enableSorting:!0,paginationPageSizes:[25,50,75,100],paginationPageSize:25,columnDefs:[{name:"别名",field:"userName",enableCellEdit:!1},{name:"登录次数",field:"loginTimes",enableCellEdit:!1},{name:"最后登录时间",field:"lastLoginTime",type:"date",cellFilter:"date:'yyyy-MM-dd HH:mm:ss'",enableCellEdit:!1},{name:"注册时间",field:"regTime",type:"date",cellFilter:"date:'yyyy-MM-dd HH:mm:ss'",enableCellEdit:!1}],data:[],useExternalPagination:!0,onRegisterApi:function(t){e.gridApi=t,e.gridApi.core.on.sortChanged(e,function(e,t){0==t.length?r.sort=null:r.sort=t[0].sort.direction,g()}),t.pagination.on.paginationChanged(e,function(e,t){r.pageNumber=e,r.pageSize=t,a.page=e,g(r)})}};var g=function(a){var i=a;e.regDateE&&e.regDateS&&(i.regDateE=e.regDateE.getTime()/1e3,i.regDateS=e.regDateS.getTime()/1e3),e.searchText?i.searchText=e.searchText:i.searchText=null,t.getInviteList(i).success(function(t){e.gridOptions.totalItems=t.total;(r.pageNumber-1)*r.pageSize;t.data&&(e.gridOptions.data=t.data)})};e.getPage=function(){g(r)},e.enterPress=function(){13==event.keyCode&&g(r)},g(r)}]});