define([],function(){"use strict";return["$scope","$uibModal","withdrawalService",function(e,n,t){e.monthAry=[1,2,3,4,5,6,7,8,9,10,11,12],e.monthSelect=e.monthAry[(new Date).getMonth()-1],e.yearAry=[];var o=(new Date).getYear()+1900;e.yearAry.push(o);for(var a=o-1;a>2013;a--)e.yearAry.push(a);e.yearSelect=e.yearAry[0],e.freshPerson=function(){t.doGetUserBankInfo().success(function(n){e.person=n})},e.freshPerson(),e.open=function(){e.tmpPerson=angular.copy(e.person),e.modalInstance=n.open({animation:e.animationsEnabled,templateUrl:"js/modules/withdrawal/views/bank_modal.html",scope:e}),e.modalInstance.result.then(function(n){e.selected=n},function(){})},e.ok=function(){t.doUpdateUser(e.tmpPerson).success(function(n){e.person=angular.copy(e.tmpPerson),e.freshPerson(),e.modalInstance.close()})},e.cancel=function(){e.tmpPerson=null,e.modalInstance.dismiss("cancel")},e.applyPayMoney=function(){return e.monthSelect&&e.yearSelect?void t.applyPayMoney({tyear:e.yearSelect,tmonth:e.monthSelect}).success(function(e){alert(e)}):void alert("请填写结算时间")}}]});