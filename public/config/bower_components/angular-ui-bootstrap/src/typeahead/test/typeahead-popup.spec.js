describe("typeaheadPopup - result rendering",function(){var e,t,a;beforeEach(module("ui.bootstrap.typeahead")),beforeEach(module("uib/template/typeahead/typeahead-popup.html")),beforeEach(module("uib/template/typeahead/typeahead-match.html")),beforeEach(inject(function(i,c){t=i,e=t.$new(),a=c})),it("should render initial results",function(){e.matches=["foo","bar","baz"],e.active=1;var i=a('<div><uib-typeahead-popup matches="matches" active="active" select="select(activeIdx)"></uib-typeahead-popup></div>')(e);t.$digest();var c=i.find("li");expect(c.length).toEqual(3),expect(c.eq(0)).not.toHaveClass("active"),expect(c.eq(1)).toHaveClass("active"),expect(c.eq(2)).not.toHaveClass("active")}),it("should change active item on mouseenter",function(){e.matches=["foo","bar","baz"],e.active=1;var i=a('<div><uib-typeahead-popup matches="matches" active="active" select="select(activeIdx)"></uib-typeahead-popup></div>')(e);t.$digest();var c=i.find("li");expect(c.eq(1)).toHaveClass("active"),expect(c.eq(2)).not.toHaveClass("active"),c.eq(2).trigger("mouseenter"),expect(c.eq(1)).not.toHaveClass("active"),expect(c.eq(2)).toHaveClass("active")}),it("should select an item on mouse click",function(){e.matches=["foo","bar","baz"],e.active=1,t.select=angular.noop,spyOn(t,"select");var i=a('<div><uib-typeahead-popup matches="matches" active="active" select="select(activeIdx)"></uib-typeahead-popup></div>')(e);t.$digest();var c=i.find("li");c.eq(2).find("a").trigger("click"),expect(t.select).toHaveBeenCalledWith(2)})});